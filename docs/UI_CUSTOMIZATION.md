# BeingDoing UI å®šåˆ¶æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•å®šåˆ¶ **ç­”é¢˜å¡ï¼ˆAnswer Cardï¼‰** å’Œ **å»ºè®®æ ‡ç­¾ï¼ˆSuggestion Tagsï¼‰** çš„æ ·å¼ä¸è¡Œä¸ºã€‚

---

## Answer Cardï¼ˆç­”é¢˜å¡ï¼‰

### æ•°æ®ç»“æ„

åç«¯ AI åœ¨å¯¹è¯è¾¾åˆ°å……åˆ†æ¡ä»¶åè‡ªåŠ¨ç”Ÿæˆç­”é¢˜å¡ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `question_id` | number | é¢˜ç›® ID |
| `question_content` | string | é¢˜ç›®å†…å®¹ |
| `user_answer` | string | ç”¨æˆ·åŸè¯æ‘˜è¦ |
| `ai_summary` | string | AI æ€»ç»“ï¼ˆ1-2å¥æ ¸å¿ƒè§‚ç‚¹ï¼Œâ‰¤100å­—ï¼‰ |
| `ai_analysis` | string | AI æ·±å±‚åˆ†æï¼ˆåæ˜ çš„ä»·å€¼è§‚/æ‰èƒ½/å…´è¶£å€¾å‘ï¼‰ |
| `key_insights` | string[] | å…³é”®æ´å¯Ÿæ ‡ç­¾ï¼ˆ3-5ä¸ªçŸ­è¯­ï¼‰ |

### è§¦å‘æ¡ä»¶

ç­”é¢˜å¡çš„ç”Ÿæˆç”±åç«¯ `question_goals.py` ä¸­æ¯é“é¢˜çš„é…ç½®æ§åˆ¶ï¼š

```python
{
    "goal": "è¿™é“é¢˜çš„éšè—ç›®æ ‡",
    "extract": ["éœ€è¦æå–çš„ä¿¡æ¯1", "ä¿¡æ¯2"],
    "min_turns": 2,       # æœ€å°‘å¯¹è¯è½®æ•°ï¼ˆä½äºæ­¤ä¸è§¦å‘ï¼‰
    "max_turns": 5,       # æœ€å¤šå¯¹è¯è½®æ•°ï¼ˆè¾¾åˆ°æ­¤æ•°å¼ºåˆ¶è§¦å‘ï¼‰
    "sufficiency_hints": ["å…³é”®è¯1", "å…³é”®è¯2"],  # åˆ¤æ–­å……åˆ†æ€§çš„å…³é”®è¯
}
```

- ä¿®æ”¹ `min_turns` / `max_turns` å¯æ§åˆ¶æ¯é“é¢˜çš„å¯¹è¯æ·±åº¦
- ä¿®æ”¹ `sufficiency_hints` å¯è°ƒæ•´ä½•æ—¶è®¤ä¸ºç”¨æˆ·å›ç­”å……åˆ†
- é…ç½®æ–‡ä»¶ï¼š`src/backend/app/domain/question_goals.py`

### æ ·å¼å®šåˆ¶

ç­”é¢˜å¡ä½¿ç”¨è¯­ä¹‰åŒ– CSS ç±»åï¼Œæ‰€æœ‰æ ·å¼å®šä¹‰åœ¨ `src/frontend/app/globals.css` ä¸­ã€‚

| CSS ç±»å | å¯¹åº”åŒºåŸŸ | è¯´æ˜ |
|----------|---------|------|
| `.answer-card` | å¡ç‰‡å®¹å™¨ | ä¸»å®¹å™¨ï¼Œæ§åˆ¶æ•´ä½“å¤–è§‚ |
| `.answer-card__header` | å¤´éƒ¨ | æ ‡é¢˜å’Œé¢˜ç›®å†…å®¹ |
| `.answer-card__summary` | æ ¸å¿ƒå‘ç° | AI æ€»ç»“åŒºåŸŸï¼Œå·¦ä¾§æœ‰ emerald è‰²ç«–çº¿ |
| `.answer-card__analysis` | æ·±å±‚åˆ†æ | AI åˆ†æåŒºåŸŸ |
| `.answer-card__insights` | æ´å¯Ÿå®¹å™¨ | åŒ…å«å¤šä¸ªæ´å¯Ÿæ ‡ç­¾çš„å®¹å™¨ |
| `.answer-card__insight-tag` | æ´å¯Ÿæ ‡ç­¾ | å•ä¸ªæ´å¯Ÿæ ‡ç­¾ï¼ˆåœ†è§’ pillï¼‰ |
| `.answer-card__user-answer` | ç”¨æˆ·åŸè¯ | å¯æŠ˜å çš„ç”¨æˆ·åŸæ–‡åŒºåŸŸ |
| `.answer-card__actions` | æ“ä½œæŒ‰é’® | "ç¡®è®¤å¹¶ç»§ç»­" å’Œ "ç»§ç»­è®¨è®º" æŒ‰é’® |
| `.answer-card--collapsed` | æŠ˜å æ€ | å·²ç¡®è®¤å¡ç‰‡çš„æŠ˜å æ ·å¼ |

**ç»„ä»¶æ–‡ä»¶ï¼š** `src/frontend/components/explore/EnhancedAnswerCard.tsx`

### å¡ç‰‡å¸ƒå±€ç»“æ„

```
â”Œâ”€ Header: [âœ“] å›ç­”æ€»ç»“ / é¢˜ç›®å†…å®¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”œâ”€ æ ¸å¿ƒå‘ç°ï¼ˆ.answer-card__summaryï¼‰                   â”‚
â”‚  [âœ¨] AI æ€»ç»“æ–‡æœ¬                                    â”‚
â”œâ”€ æ·±å±‚åˆ†æï¼ˆ.answer-card__analysisï¼‰                   â”‚
â”‚  [ğŸ’¡] AI åˆ†ææ–‡æœ¬                                    â”‚
â”œâ”€ å…³é”®æ´å¯Ÿï¼ˆ.answer-card__insightsï¼‰                   â”‚
â”‚  [tag] [tag] [tag] [tag]                             â”‚
â”œâ”€ ä½ çš„åŸè¯ï¼ˆ.answer-card__user-answerï¼Œå¯æŠ˜å ï¼‰        â”‚
â”‚  ç”¨æˆ·åŸæ–‡ [ç¼–è¾‘]                                     â”‚
â”œâ”€ æ“ä½œæŒ‰é’®ï¼ˆ.answer-card__actionsï¼‰                    â”‚
â”‚  [ç¡®è®¤å¹¶ç»§ç»­]          [ç»§ç»­è®¨è®º]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç¡®è®¤åå¡ç‰‡æŠ˜å ä¸ºä¸€è¡Œï¼ˆ`.answer-card--collapsed`ï¼‰ï¼Œç‚¹å‡»å¯å±•å¼€ã€‚

### AI åˆ†æå†…å®¹å®šåˆ¶

ç­”é¢˜å¡çš„ AI åˆ†æå†…å®¹ç”± LLM æç¤ºè¯æ¨¡æ¿æ§åˆ¶ï¼š

- **æ–‡ä»¶ï¼š** `src/backend/app/domain/prompts/templates/answer_card_summary.yaml`
- å¯è°ƒæ•´é¡¹ï¼š
  - æ€»ç»“é•¿åº¦å’Œé£æ ¼ï¼ˆä¿®æ”¹ `ai_summary` çš„æè¿°ï¼‰
  - åˆ†ææ·±åº¦ï¼ˆä¿®æ”¹ `ai_analysis` çš„æè¿°ï¼‰
  - æ´å¯Ÿæ•°é‡ï¼ˆä¿®æ”¹ `key_insights` çš„è¦æ±‚ï¼‰
  - æ•´ä½“è¯­æ°”ï¼ˆä¿®æ”¹ "è¦æ±‚" éƒ¨åˆ†ï¼‰

---

## Suggestion Tagsï¼ˆå»ºè®®æ ‡ç­¾ï¼‰

### ç”Ÿæˆè§„åˆ™

æ¯æ¬¡ AI å›å¤æ—¶ï¼Œåç«¯è‡ªåŠ¨ç”Ÿæˆ 3 ä¸ªå»ºè®®æ–¹å‘æ ‡ç­¾ã€‚ç”Ÿæˆè§„åˆ™åœ¨ `reasoning.yaml` æç¤ºè¯ä¸­å®šä¹‰ï¼š

- ä¸€ä¸ª**æ·±å…¥æŒ–æ˜**æ–¹å‘ï¼ˆå¦‚"æˆ‘æƒ³èŠèŠé‚£æ¬¡ç»å†"ï¼‰
- ä¸€ä¸ª**æ¢è§’åº¦æ€è€ƒ**æ–¹å‘ï¼ˆå¦‚"æ¢ä¸ªè§’åº¦çœ‹å·¥ä½œä¸­çš„æ„Ÿå—"ï¼‰
- ä¸€ä¸ª**å…·ä½“ä¾‹å­å¼•å¯¼**æ–¹å‘ï¼ˆå¦‚"æ¯”å¦‚æœ€è¿‘å‘ç”Ÿçš„ä¸€ä»¶äº‹"ï¼‰

ä¿®æ”¹æç¤ºè¯æ–‡ä»¶å¯è°ƒæ•´æ ‡ç­¾ç”Ÿæˆç­–ç•¥ï¼š`src/backend/app/domain/prompts/templates/reasoning.yaml`

### æ ·å¼å®šåˆ¶

| CSS ç±»å | å¯¹åº”åŒºåŸŸ | è¯´æ˜ |
|----------|---------|------|
| `.suggestion-tags` | æ ‡ç­¾å®¹å™¨ | Flex å¸ƒå±€ï¼Œæ§åˆ¶é—´è·å’Œæ’åˆ— |
| `.suggestion-tags__item` | å•ä¸ªæ ‡ç­¾ | åœ†è§’æŒ‰é’®ï¼Œhover æœ‰ä¸Šæµ®å’Œé˜´å½±æ•ˆæœ |

**ç»„ä»¶æ–‡ä»¶ï¼š** `src/frontend/components/explore/SuggestionTags.tsx`

### äº¤äº’è¡Œä¸º

- ç‚¹å‡»æ ‡ç­¾ï¼šæ–‡æœ¬å¡«å…¥è¾“å…¥æ¡†ï¼ˆä¸è‡ªåŠ¨æäº¤ï¼Œç”¨æˆ·å¯ç»§ç»­ç¼–è¾‘ï¼‰
- ç‚¹å‡»åæ ‡ç­¾æ¶ˆå¤±ï¼ˆé¿å…é‡å¤é€‰æ‹©ï¼‰
- æµå¼è¾“å‡ºæˆ–æ˜¾ç¤ºç­”é¢˜å¡æ—¶æ ‡ç­¾éšè—

å¯ä¿®æ”¹ `SuggestionTags` ç»„ä»¶çš„ `onSelect` å›è°ƒæ¥æ”¹å˜è¡Œä¸ºï¼ˆå¦‚è‡ªåŠ¨æäº¤ï¼‰ã€‚

---

## ä¸»é¢˜è‰²è¯´æ˜

é¡¹ç›®ä½¿ç”¨ Tailwind CSS è°ƒè‰²æ¿ï¼š

| ç”¨é€” | è‰²ç³» | Tailwind ç±»å‰ç¼€ |
|------|------|-----------------|
| ç­”é¢˜å¡ä¸»è‰² | ç»¿è‰² | `emerald-*` |
| ç­”é¢˜å¡åˆ†æåŒº | ç¥ç€è‰² | `amber-*` |
| å»ºè®®æ ‡ç­¾ä¸»è‰² | é›è“è‰² | `primary-*` |
| å¯¹è¯èƒŒæ™¯ | æ·±ç°è‰² | `slate-*` |

å…¨å±€ä¿®æ”¹è‰²è°ƒï¼šç¼–è¾‘ `tailwind.config.js` ä¸­çš„ `primary` å’Œ `emerald` é…ç½®ã€‚

---

## æ–‡ä»¶ç´¢å¼•

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `src/frontend/components/explore/EnhancedAnswerCard.tsx` | ç­”é¢˜å¡ç»„ä»¶ |
| `src/frontend/components/explore/SuggestionTags.tsx` | å»ºè®®æ ‡ç­¾ç»„ä»¶ |
| `src/frontend/app/globals.css` | å¯å®šåˆ¶ CSS æ ·å¼ |
| `src/backend/app/domain/prompts/templates/answer_card_summary.yaml` | ç­”é¢˜å¡ AI åˆ†ææç¤ºè¯ |
| `src/backend/app/domain/prompts/templates/reasoning.yaml` | å»ºè®®æ ‡ç­¾ç”Ÿæˆæç¤ºè¯ |
| `src/backend/app/domain/question_goals.py` | é¢˜ç›®ç›®æ ‡å’Œè½®æ•°é…ç½® |
